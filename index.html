<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/dc@3/dc.css" />
  <script src="https://unpkg.com/d3@5/dist/d3.js"></script>
  <script src="https://unpkg.com/crossfilter2@1.4/crossfilter.js"></script>
  <script src="https://unpkg.com/dc@3/dc.js"></script>
  <script src="https://rawgit.com/crossfilter/reductio/master/reductio.js"></script>
  <script src="https://npmcdn.com/universe@latest/universe.js"></script>
  <style>
    .dc-chart g.row text {
      fill: #020000;
    }
    .container {
      min-width: 1600px;
    }
    .chart-title {
      font-weight: 500;
    }
  </style>
</head>

<body>
  <h1>Line Chart</h1>
  <div id="test">test</div>
  <h1>End of Line Chart</h1>

  <script src="js/crossfilter.js"></script>
  <script src="js/d3.js"></script>
  <script src="js/dc.js"></script>
  <script src="js/underscore-min.js"></script>
  <script type="text/javascript">

  var ndx;

  var steakChart = dc.pieChart("#steak-chart");
  var smokeChart = dc.rowChart("#smoke-chart");
  var drinkChart = dc.rowChart("#drink-chart");
  var cheatChart = dc.rowChart("#cheat-chart");

  d3.csv('steak.csv').then(function(data) {
    console.log('data first length', data.length);
    data = _.filter(data, function(d) { return d.id})
  })




    //     var chart = dc.lineChart("#test");
    // d3.csv("../morsley.csv").then(function(experiments) {
    //   experiments.forEach(function(x) {
    //     x.Speed = +x.Speed;
    //   });

// var experiments = d3.csvParse(d3.select('data').text());
// experiments.forEach(function(){
//     x.Speed = +x.Speed;
// });

//       var ndx                 = crossfilter(experiments),
//           runDimension        = ndx.dimension(function(d) {return +d.Run;}),
//           speedSumGroup       = runDimension.group().reduceSum(function(d) {return d.Speed * d.Run / 1000;});
//       chart
//         .width(768)
//         .height(480)
//         .x(d3.scaleLinear().domain([0,20]))
//         .curve(d3.curveStepBefore)
//         .renderArea(true)
//         .brushOn(false)
//         .renderDataPoints(true)
//         .clipPadding(10)
//         .yAxisLabel("This is the Y Axis!")
//         .dimension(runDimension)
//         .group(speedSumGroup);
//       chart.render();
// });                   
    
        // var experiments = d3.csvParse(d3.select('#data').text());

        //   experiments.forEach(function(x) {
        //     x.id = +x.id;
        //   });

        //   var ndx                 = crossfilter(experiments),
        //       idDimension        = ndx.dimension(function(d) {return +d.id;}),
        //       idSumGroup       = idDimension.group().reduceSum(function(d) {return d.id * d.id / 1000;});

        //   chart
        //     .width(768)
        //     .height(480)
        //     .x(d3.scaleLinear().domain([6,20]))
        //     .brushOn(false)
        //     .yAxisLabel("This is the Y Axis!")
        //     .dimension(idDimension)
        //     .group(idSumGroup)
        //     .on('renderlet', function(chart) {
        //         chart.selectAll('rect').on("click", function(d) {
        //             console.log("click!", d);
        //         });
        //     });
        //     chart.render();
  </script>
</body>
</html>
